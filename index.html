<!DOCTYPE html>
<html>
<head>
	<title>Live Search Plugin</title>
    <meta charset="utf-8"/>
    <meta name="author" name="achraf bellaali"/>
    <!--
        Email : achraf.bellaali@gmail.com
        Github : https://github.com/IndianGhost
        Twitter : @achraf_bellaali
        LinkedIn : achraf bellaali
    -->
	<link rel="stylesheet" href="css/bootstrap.min.css"/>
	<style type="text/css">
		table{
			width: 100%;
		}
	</style>
    <script src="js/jquery.min.js"></script>
    <script type="text/javascript">
		$(document).ready(function(){
			$.getJSON("js/data.json", function(results){
				var thead = "";
				var tbody = "";
				var keyNames = Object.keys(results[0]);
				for (var i = 0; i < keyNames.length; i++) {
					thead += "<th>"+keyNames[i]+"</th>";
					console.log(results[0][keyNames[i]]);
				}
				
				for(var j=0; j<results.length; j++)
				{
					tbody += "<tr>";
					for(var i=0; i<keyNames.length; i++)
					{
						tbody += "<td>"+results[j][keyNames[i]]+"</td>";
					}
					tbody += "</tr>";
				}
					
				$("thead").append("<tr>"+thead+"</tr>");
				$("tbody").append(tbody);
			});
		});
    </script>
</head>
<body>
	<div class="container">
		<div class="jumbotron">
            <h1 class="display-4">Live Search HTML !</h1>
            <p class="lead">This is a simple jQuery plugin, developed by <a href="https://github.com/IndianGhost">Achraf Bellaali</a>.</p>
            <hr class="my-4">
            <p>You can use in any web project to find quickly your data especially for tables that contains a lot of rows.</p>
            <p class="lead">
                <a class="btn btn-primary btn-lg" href="https://github.com/IndianGhost/liveSearch" role="button">Download it from github</a>
            </p>
        </div>
        <center>
            <div class="form-group">
                <input type="text" class="form-control" style="width: 20%" id="search" placeholder="Taper pour chercherâ€¦">
            </div>
        </center>
		
		<table class="table js-table">
			<thead class="js-thead"></thead>
			<tbody></tbody>
		</table>
	</div>
	<script type="text/javascript">
		$("#search").keyup(function(){
	        _this = this;
	        $.each($(".js-table tbody tr"), function() {
	            if($(this).text().toLowerCase().indexOf($(_this).val().toLowerCase()) === -1)
	                $(this).hide();
	            else
	                $(this).show();
	        });
	    });
	</script>
</body>
</html>